//- module
mixin uploadr-uploader(opt)
  -
    if(typeof(opt) == "string") { name = opt; }
    else if(!opt) { opt = {}; }
    var name = name || opt.name || "uploadr";
    var type = opt.type || "image";
  .uploadr.uploadr-uploader(ld-scope=name)&attributes(attributes)
    .uploadr-ctrl
      .uploadr-button #[span(t) Add File ...] #[input(type="file",ld="input",multiple)]
      .uploadr-ctrl-group
        .uploadr-button(ld="upload",t) Upload
        .uploadr-button(ld="clear",t) Clear
        .uploadr-button(ld="close",data-ldcv-set="",t) Close
    .uploadr-dropzone(ld="drop")
      .uploadr-hint: div #[span(t) Drag & drop] #[br] #[span(t) file(s) here]
      .uploadr-list(class=(type=="file"?"uploadr-list-file":"uploadr-list-image"))
        if type != "file"
          .uploadr-item(ld-each="file")
            .img(ld="thumb")
            .uploadr-item-ctrl
              .uploadr-progress(ld="progress")
              .uploadr-item-ctrl-info
                .uploadr-item-ctrl-name(ld="name",style="width:60%")
                .uploadr-item-ctrl-size(ld="size",style="width:calc(30% - 1em)")
                .uploadr-item-ctrl-delete(ld="delete") ✕
        else
          .uploadr-item.uploadr-head
            .uploadr-item-cell.uploadr-item-name(t) Name
            .uploadr-item-cell.uploadr-item-size(t) Size
            .uploadr-item-cell.uploadr-item-modifiedtime(t) Modified Date
            .uploadr-item-cell &nbsp;
          .uploadr-item(ld-each="file")
            .uploadr-item-cell.uploadr-item-name(style="position:relative")
              span(ld="name")
              .uploadr-progress(ld="progress")
            .uploadr-item-cell.uploadr-item-size(ld="size")
            .uploadr-item-cell.uploadr-item-modifiedtime(ld="modifiedtime")
            .uploadr-item-cell(ld="delete") ✕

      .uploadr-loader: .ldld.default(ld="loader")

mixin uploadr-viewer(opt)
  -
    if(typeof(opt) == "string") { name = opt; }
    else if(!opt) { opt = {}; }
    var name = name || opt.name || "uploadr-viewer";
    var type = opt.type || "image";
  .uploadr.uploadr-viewer(ld-scope=name)&attributes(attributes)
    .uploadr-list(class=(type=="file"?"uploadr-list-file":"uploadr-list-image"))
      if type == "file"
        .uploadr-item.uploadr-head
          .uploadr-item-cell.uploadr-item-name(t) Name
          .uploadr-item-cell.uploadr-item-size(t) Size
          .uploadr-item-cell.uploadr-item-modifiedtime(t) Modified Date
      .uploadr-item(ld-each="file")
        if type == "image"
          img(ld="thumb")
        if type == "file"
          .uploadr-item-cell.uploadr-item-name(ld="name")
          .uploadr-item-cell.uploadr-item-size(ld="size")
          .uploadr-item-cell.uploadr-item-modifiedtime(ld="modifiedtime")
      .uploadr-item.uploadr-load.position-relative(ld="load")
        span(t) Load More
        .uploadr-loader: .ldld.default(ld="loader")
