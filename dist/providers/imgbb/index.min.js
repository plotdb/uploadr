!function(){uploadr.ext.imgbb=function(e){var n=e.files,u=e.progress,o=e.opt;return new Promise(function(t,e){var r,l=[],i=n.length;return u({percent:0,val:0,len:i}),(r=function(n){var e,a=n.splice(0,1)[0];return a?((e=new FormData).append("image",a.file),ld$.xhr("https://api.imgbb.com/1/upload?key="+o.key,{method:"POST",body:e},{type:"json"}).then(function(e){var t;return e&&e.data&&200===e.status?(l.push(t={url:e.data.display_url,name:a.file.name,id:e.data.id,raw:e.data}),u({percent:(i-n.length)/i,val:i-n.length,len:i,item:t}),r(n)):Promise.reject(e)}).catch(function(e){return l.push(e={name:a.file.name,err:e}),u({percent:(i-n.length)/i,val:i-n.length,len:i,item:e})})):t(l)})(n)})}}.call(this);
