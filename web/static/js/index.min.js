(()=>{var e,n,r,o;e={files:[]},new uploadr({root:"[ld-scope=uploadr]",provider:{host:"native",config:{route:"/api/uploadr/native"}}}).on("upload.done",function(o){return e.files=e.files.concat(o),n.uploadr.toggle(!1),r.render()}),n={},r=new ldview({root:document.body,init:{"ldcv-uploadr":function(o){o=o.node;return n.uploadr=new ldcover({root:o,resident:!0})},"ldcv-chooser":function(o){o=o.node;return n.chooser=new ldcover({root:o,resident:!0})}},action:{click:{"toggle-uploader":function(){return n.uploadr.toggle()},"toggle-chooser":function(){return n.chooser.toggle()}}}}),r=new ldview({root:"[ld-scope=photo-viewer]",handler:{empty:function(o){o=o.node;return o.classList.toggle("d-none",!!e.files.length)},photo:{list:function(){return e.files||[]},key:function(o){return o.key},view:{handler:{"@":function(o){return o.node.style.backgroundImage="url("+o.ctx.url+")"}}}}}}),(o=function(o,e){o=new uploadr.viewer({root:o,page:{host:e,fetchOnScroll:!0,limit:9,boundary:100,fetch:function(){return new Promise(function(o,e){return o([1,2,3,4,5,6,7,8,9].map(function(o){return{url:"/assets/img/sample/"+o+".jpg",size:Math.round(1073741824*Math.random()),name:"DSC_"+(Math.floor(1e4*Math.random())+"").padStart(4,"0")+".jpg",lastModified:Date.now()-Math.round(1e3*Math.random()*1440*365)}}))})}}});return o.fetch(),o.on("choose",function(o){return ldnotify.send("success",'File "'+o.name+'" picked.'),n.chooser.toggle(!1)})})("[ld-scope=uploadr-viewer]",chooserroot),o("[ld-scope=uploadr-viewer2]",document.body)})();