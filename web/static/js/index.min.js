(()=>{var o,n,r,e;o={files:[]},new uploadr({root:"[ld-scope=uploadr]",provider:{host:"native",config:{route:"/api/uploadr/native"}}}).on("upload.done",function(e){return o.files=o.files.concat(e),n.uploadr.toggle(!1),r.render()}),n={},r=new ldview({root:document.body,init:{"ldcv-uploadr":function(e){e=e.node;return n.uploadr=new ldcover({root:e,resident:!0})},"ldcv-chooser":function(e){e=e.node;return n.chooser=new ldcover({root:e,resident:!0})}},action:{click:{"toggle-uploader":function(){return n.uploadr.toggle()},"toggle-chooser":function(){return n.chooser.toggle()}}}}),r=new ldview({root:"[ld-scope=file-viewer]",handler:{empty:function(e){e=e.node;return e.classList.toggle("d-none",!!o.files.length)},file:{list:function(){return o.files||[]},key:function(e){return e.id||e.key},view:{handler:{"@":function(e){var o=e.node,e=e.ctx;return/.(jpg|jpeg|png|gif|webp)$/.exec(e.name)?o.style.backgroundImage="url("+e.url+")":o.textContent=e.name}}}}}}),(e=function(e,o){e=new uploadr.viewer({root:e,page:{host:o,fetchOnScroll:!0,limit:9,boundary:100,fetch:function(){return new Promise(function(e,o){return e([1,2,3,4,5,6,7,8,9].map(function(e){return{url:"/assets/img/sample/"+e+".jpg",size:Math.round(1073741824*Math.random()),name:"DSC_"+(Math.floor(1e4*Math.random())+"").padStart(4,"0")+".jpg",lastModified:Date.now()-Math.round(1e3*Math.random()*1440*365)}}))})}}});return e.fetch(),e.on("choose",function(e){return ldnotify.send("success",'File "'+e.name+'" picked.'),n.chooser.toggle(!1)})})("[ld-scope=uploadr-viewer]",chooserroot),e("[ld-scope=uploadr-viewer2]",document.body)})();