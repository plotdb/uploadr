!function(){uploadr.ext.native=function(e){var u=e.files,d=e.progress,l=e.opt,f=e.data;return new Promise(function(r,e){var n,a,o,t=l||{},i=t.merge,p=t.route;return d({percent:0,val:0,len:void 0}),i?(n=new FormData,u.map(function(e){return n.append("file",e.file)}),null!=f&&n.append("data","object"==typeof f?JSON.stringify(f):f),ld$.xhr(p,((t={method:"POST",body:n}).headers=l.headers,t),{type:"json"}).then(r).catch(e)):(a=[],u.length,(o=function(n){var e,t=n.splice(0,1)[0];return t?((e=new FormData).append("file",t.file),null!=f&&e.append("data","object"==typeof f?JSON.stringify(f):f),ld$.xhr(p,((e={method:"POST",body:e}).headers=l.headers,e),{type:"json",progress:function(e){return d((e.item=t,e))}}).then(function(e){return a.push(e[0]),o(n)}).catch(function(e){return a.push({name:t.file.name,error:e})})):r(a)})(u))})}}.call(this);
